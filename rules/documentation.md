# Правила документации проекта

## Стратегия документации
Мы используем гибридный подход к документации, разделяя технические детали (близкие к коду) и пользовательские руководства.

### 1. Структура репозиториев
*   **Core Repo (`vlmhyperbench`)**: Содержит документацию архитектуры и процессов в папке `docs/` (для разработчиков ядра).
*   **Docusaurus (`docs_site/`)**: Подключается как **git submodule**. Содержит публичную документацию, туториалы и гайды. Является "Единым источником правды" для пользователей.

### 2. Документирование пакетов (Packages)
Разработка новых пакетов (датасеты, метрики) происходит в директории `packages/`. Пакет является независимым GitHub-репозиторием, который временно клонируется в локальную папку проекта для разработки.

*   **Workflow**:
    1.  Изменения пушатся в отдельный репозиторий пакета.
    2.  Для управления репозиториями в организации [VLMHyperBenchTeam](https://github.com/VLMHyperBenchTeam) (создание, релизы, PR) используется **GitHub MCP Server**.
    3.  После тестирования локальная папка может быть удалена; конфигурация `RunTask` сама загрузит пакет из указанного `source` (Git/PyPI).
*   **Игнорируемые файлы**:
    *   Каждый пакет должен содержать собственный `.gitignore`, настроенный под `uv` и `python` (исключая `.venv/`, `__pycache__`, `.pytest_cache/`, `*.pyc` и т.д.).
    *   **Важно**: Если пакет является вложенным Git-репозиторием и в него уже попали нежелательные файлы (например, кэши), необходимо очистить индекс пакета командой `git rm -r --cached .` перед добавлением `.gitignore`.
*   **Локализация (README)**:
    *   Каждый пакет должен содержать `README.md` (английский) и `README.ru.md` (русский).
    *   В начале каждого файла должна быть ссылка на альтернативную локализацию.
*   **Содержание `README.md`**:
    *   Краткое описание назначения пакета.
    *   Инструкция по установке.
    *   Примеры конфигурации и использования (Quick Start).
    *   Список зависимостей.
*   **Docstrings (в коде)**:
    *   Все публичные классы и методы должны иметь docstrings в формате **Google Style** с указанием типов.
    *   **Язык**: Docstrings должны быть написаны на **английском языке**, чтобы обеспечить доступность кода для международного сообщества (open source).
    *   Это необходимо для автоматической генерации API Reference.

### 3. Публичная документация (Docusaurus)
*   **Целевая аудитория**: Конечные пользователи, исследователи.
*   **Содержание**: Getting Started, Tutorials, Concepts.
*   **Связь с пакетами**: Используйте ссылки на репозитории пакетов или настройте автоматический импорт контента.
*   **Публикация (Deployment)**:
    *   Сайт публикуется на GitHub Pages: `https://vlmhyperbenchteam.github.io/VLMHyperBenchDocs/`.
    *   Команды для публикации (выполнять в `docs_site/`):
        *   `USE_SSH=true npm run deploy` (рекомендуется для SSH).
        *   `GIT_USER=<username> npm run deploy` (для HTTPS).
    *   Команда `deploy` автоматически собирает проект и пушит в ветку `gh-pages`.

### 4. Документирование архитектурных решений (ADR)
*   Все важные технические решения фиксируются в формате **ADR (Architecture Decision Records)**.
*   Место хранения: `docs_site/docs/architecture/adr/`.

## Карта документации
*   **Архитектура**:
    *   [`docs_site/docs/architecture/concept.md`](docs_site/docs/architecture/concept.md) — Основная концепция и диаграммы.
    *   [`docs_site/docs/architecture/specification.md`](docs_site/docs/architecture/specification.md) — Детальная спецификация компонентов.
    *   [`docs_site/docs/architecture/adr/`](docs_site/docs/architecture/adr/) — Architecture Decision Records (ADR).
*   **Исследования**:
    *   [`docs_site/docs/research/archive/`](docs_site/docs/research/archive/) — Архив проведенных исследований (S3, EvalScope, Metrics).
    *   [`docs_site/docs/research/comparative-analysis.md`](docs_site/docs/research/comparative-analysis.md) — Сравнительный анализ с аналогами.