# Правила разработки

Отвечай на русском языке.

## Workflow разработки (Playground -> Production)

Мы используем итеративный подход к разработке, начиная с прототипирования в `playground` и заканчивая фиксацией стабильных версий пакетов.

### 1. Этап Playground (Прототипирование)
*   **Где**: Текущий репозиторий `vlmhyperbench_playground`.
*   **Что делаем**:
    *   Реализуем базовые абстрактные классы и компоненты ядра VLMHyperBench.
    *   Проводим быстрые эксперименты и проверку гипотез.
    *   Код пишется в режиме `dev` (editable packages).

### 2. Этап Integration (Подключение модулей)
*   **Что делаем**:
    *   Монтируем необходимые репозитории (с реализациями конкретных `Task`, `Model`, `Metric`) как **git submodules** в папку `packages/`.
    *   Пример: `packages/model-qwen2-5-vl`, `packages/bench-utils`.
    *   Разрабатываем реализации для конкретных задач, используя базовые абстракции из ядра.

### 3. Этап Pipeline & Testing
*   **Что делаем**:
    *   Прогоняем полный пайплайн (Inference -> Eval -> Report) на тестовых данных.
    *   Убеждаемся, что все компоненты взаимодействуют корректно.
    *   Исправляем баги как в ядре, так и в подключаемых модулях.

### 4. Этап Release (Фиксация версий)
*   **Что делаем**:
    *   Пушим работающие версии кода в соответствующие удаленные репозитории пакетов.
    *   Создаем git tags (например, `v0.1.0`) в репозиториях пакетов.
    *   В `uv.lock` (для `prod` профиля) фиксируем **точные версии пакетов** (через git tags), совместимые с текущей версией ядра.
    *   Это гарантирует воспроизводимость экспериментов: `prod` окружение собирается из конкретных версий python-пакетов.

## Работа с зависимостями (uv)
*   **dev**: Используем `workspace = true` для разработки.
*   **prod**: Используем ссылки на **git tags** (версии пакетов) для фиксации стабильного состояния.